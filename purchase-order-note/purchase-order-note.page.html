<ion-header>
	<ion-toolbar>
		<ion-buttons slot="start" class="ion-hide-sm-down_">
			<ion-button color="dark" class="ion-hide-sm-down"> {{'Print purchase order' | translate}} </ion-button>
		</ion-buttons>
		<ion-buttons slot="end">
			<!-- <ion-button (click)="changePrintMode()" title="{{'print-mode' | translate}}">
				<ion-icon slot="icon-only" [name]="printMode == 'A4' ? 'cut-outline':'file-tray-full-outline'"></ion-icon>
			</ion-button>
			<span class="split ion-hide-sm-down">|</span> -->
			<ion-button (click)="print()" title="{{'Form printing' | translate}}">
				<ion-icon slot="icon-only" name="print"></ion-icon>
			</ion-button>
			<ion-button (click)="refresh()" title="{{'Refresh' | translate}}">
				<ion-icon slot="icon-only" name="reload-outline"></ion-icon>
			</ion-button>
			<ion-button title="{{'Expanded function' | translate}}" (click)="pageConfig.isShowFeature = !pageConfig.isShowFeature;">
				<ion-icon slot="icon-only" [name]="pageConfig.isShowFeature? 'close-outline':'list-circle-outline'"> </ion-icon>
			</ion-button>
		</ion-buttons>
	</ion-toolbar>
</ion-header>

<ion-content appScrollbarTheme appPrintFix class="A4 left" [ngClass]="{withFeature: pageConfig.isShowFeature}">
	<ion-fab *ngIf="pageConfig.isShowFeature" [ngClass]="{withSearch: pageConfig.isShowSearch}" class="feature no-print" vertical="top" horizontal="start" slot="fixed">
		<ion-list>
			<ion-list-header lines="full">
				<ion-label color="dark">{{'Purchase order' | translate}}</ion-label>

				<ion-button size="small" (click)="toggleDateFilter()">
					<ion-icon slot="icon-only" [name]="query.Status == 'Approved' ? 'calendar-outline' : 'calendar'"></ion-icon>
				</ion-button>
			</ion-list-header>
		</ion-list>

		<ion-list>
			<ion-item lines="full" *ngIf="query.IDStatus!='[301]'">
				<div class="c-control">
					<label class="c-label" for="OrderDate">{{'Order created date' | translate}}</label>
					<input class="c-input" (change)="refresh()" id="OrderDate" type="date" [(ngModel)]="query.OrderDate" />
				</div>
			</ion-item>

			<ion-item
				[color]="i.Id == selectedPurchaseOrderID? 'primary': '' "
				button
				detail="true"
				lines="full"
				class="clickable"
				*ngFor="let i of items"
				(click)="loadPurchaseOrderNote(i)"
			>
				<ion-label class="ion-text-wrap">
					<p>
						<b>
							<ion-text [color]="i.Id == selectedPurchaseOrderID? '': 'primary' ">{{'PO' | translate}}:{{i.Id}}</ion-text>
							<ion-text [color]="i.Id == selectedPurchaseOrderID? '': 'dark' "> - {{i.OrderDateText}}</ion-text>
						</b>
					</p>
					<ion-text>
						<small>{{i.VendorName}} => {{i.BranchName}}</small>
					</ion-text>
				</ion-label>
			</ion-item>
		</ion-list>

		<img style="width: 1px; height: 1px; opacity: 0" src="assets/RPT-Logo-ART.png" />
	</ion-fab>

	<div style="overflow: auto">
		<div class="giao-nhan" *ngFor="let o of sheets">
			<section class="sheet padding-10mm rpt p1">
				<app-po-note [ID]="o.Id" [PONConvertToLargerUoM]="true"
					[PONShowPackingUoM]="true" [PONShowEACaseOnly]="false">
				</app-po-note>
			</section>
		</div>
	</div>
</ion-content>
